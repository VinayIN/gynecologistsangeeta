{{ $faviconPath := site.Params.favicon | default "images/favicon.png" }}
{{ if not $faviconPath }}
  {{ warnf "Favicon path is empty. Set 'favicon' in params.toml." }}
{{ else }}
  {{ $favicon := resources.Get $faviconPath }}
  {{ if $favicon }}
    <link rel="icon" type="{{ $favicon.MediaType.Type }}/{{ $favicon.MediaType.SubType }}" href="{{ $favicon.RelPermalink }}" />
    <link rel="apple-touch-icon" href="{{ $favicon.RelPermalink }}" />
    <meta name="msapplication-TileImage" content="{{ $favicon.RelPermalink }}" />
  {{ else }}
    {{ warnf "Favicon asset %s not found" $faviconPath }}
    <link rel="icon" href="{{ $faviconPath | relURL }}" />
  {{ end }}
{{ end }}
